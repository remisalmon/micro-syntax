filetype: terraform

detect:
  filename: "\\.tf(vars)?$"

rules:
  # https://github.com/hashicorp/hcl/blob/main/hclsyntax/spec.md#literal-values
  - constant: "\\b(true|false|null)\\b"

  # https://github.com/hashicorp/hcl/blob/main/hclsyntax/spec.md#numeric-literals
  - constant: "\\b\\d+(\\.\\d)?([eE][+-]?\\d+)?\\b"

  # https://developer.hashicorp.com/terraform/language/syntax/configuration#blocks
  - identifier: "^\\s*[A-Za-z_-][\\w-]*\\s*"

  # https://github.com/hashicorp/hcl/blob/main/hclsyntax/spec.md#for-expressions
  - constant: "\\b(for|in|if)\\b"

  # https://developer.hashicorp.com/terraform/language/syntax/configuration#arguments
  - statement: "^\\s*[A-Za-z_-][\\w-]*\\s*="

  - default: "[={]"

  # https://developer.hashicorp.com/terraform/language/expressions/strings#quoted-strings
  - constant.string:
      start: "\""
      end: "\""
      skip: "\\\\."
      rules: []

  # https://developer.hashicorp.com/terraform/language/style#comments
  - comment:
      start: "(^|\\s)#"
      end: "$"
      rules: []

  # https://developer.hashicorp.com/terraform/language/expressions/strings#heredoc-strings
  - default:
      start: "<<(-)?EO."
      end: "EO."
      rules: []
